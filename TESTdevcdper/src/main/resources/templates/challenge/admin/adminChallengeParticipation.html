<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="@{layout/challengeAdminDefault}">
<th:block layout:fragment="pageTitle">
	<title th:text="${title}"></title>
	<div class="col-sm-6">
		<h1 class="m-0">!챌린지 참여 관리</h1>
	</div><!-- /.col -->
	<br><br>
	<div class="col-sm-12">
		<ol class="breadcrumb float-sm-right">
			<div class="card-body table-responsive pad">
				<div class="btn-group btn-group-toggle" data-toggle="buttons">
					<a th:href="@{/adminChallenge}" class="btn btn-outline-info">
						<input type="radio" name="options" id="option_a1" autocomplete="off" th:checked="${radioCheck == 'adminChallenge'}"> 챌린지 관리
					</a>
					<a th:href="@{/adminChallengeParticipation}" class="btn btn-outline-info">
						<input type="radio" name="options" id="option_a3" autocomplete="off" th:checked="${radioCheck == 'adminChallengeParticipation'}"> 챌린지 참여 관리
					</a>
					<a th:href="@{/adminChallengeReport}" class="btn btn-outline-info">
						<input type="radio" name="options" id="option_a3" autocomplete="off" th:checked="${radioCheck == 'adminChallengeReport'}"> 챌린지 신고 관리
					</a>
					<a th:href="@{/adminChallengeAchievement}" class="btn btn-outline-info">
						<input type="radio" name="options" id="option_a3" autocomplete="off" th:checked="${radioCheck == 'adminChallengeAchievement'}"> 챌린지 달성율 관리
					</a>
					<a th:href="@{/adminChallengeRanking}" class="btn btn-outline-info">
						<input type="radio" name="options" id="option_a3" autocomplete="off" th:checked="${radioCheck == 'adminChallengeRanking'}"> 챌린지 최종순위 관리
					</a>
					<a th:href="@{/adminChallengeCompensation}" class="btn btn-outline-info">
						<input type="radio" name="options" id="option_a3" autocomplete="off" th:checked="${radioCheck == 'adminChallengeCompensation'}"> 챌린지 보상지급 관리
					</a>
				</div>
			</div>
			
		</ol>
	</div>
</th:block>



<th:block layout:fragment="container">

<div class="card card-default">
			<div class="card-body">
			    <section class="content" id="challengeExplorationSection">
			        <div class="container-fluid">
			            <h2 class="text-center display-5">챌린지 참여내역 상세검색</h2>
			            <form action="enhanced-results.html">
			                <div class="row">
			                
			                
                             <div class="col-md-10 offset-md-1">
                                 <div class="row">
                                 	<div class="col-2">
			                                <div class="form-group">
			                                    <label>카테고리</label>
			                                    <select class="js-example-placeholder-single js-states form-control" style="width: 100%;" data-select2-id="6" tabindex="-1" aria-hidden="true">
							                          <option selected="selected">전체</option>
							                          <option>학력</option>
							                          <option>프로젝트</option>
							                          <option>자격증</option>
							                          <option>공인어학(외국어능력)</option>
							                          <option>기술스택</option>
							                          <option>직종전문교육과정</option>
							                          <option>인턴십</option>
							                          <option>공모전</option>
							                          <option>경력</option>
                                   				 </select>
			                                </div>
			                            </div>
			                            
			                             <div class="col-2" data-select2-id="11">
			                                <div class="form-group" data-select2-id="10">
			                                    <label>진행상태</label>
			                                    <select class="js-example-placeholder-single js-states form-control">
			                                   		<option selected="selected">전체</option>
			                                        <option>참여중</option>
			                                        <option>완료</option>
			                                        <option>중단</option>
			                                    </select>
			                                </div>
			                            </div>
			                         <div class="col-3">
                                         <div class="form-group">
                                             <label>챌린지 기간선택</label>
                                             <input type="date" id="challengeStartDate" class="form-control" placeholder="챌린지 시작일을 선택해주세요.">
                                         </div>
                                     </div>
                                     <div class="col-3">
                                         <div class="form-group">
                                             <label>&emsp;</label>
                                             <input type="date" id="challengeEndDate" class="form-control" placeholder="챌린지 시작일을 선택해주세요.">
                                         </div>
                                     </div>
                                     <div class="col-2" data-select2-id="11">
			                                <div class="form-group" data-select2-id="10">
			                                    <label>&emsp;</label>
			                                    <select class="js-example-placeholder-single js-states form-control">
			                                    	<option selected="selected">전체</option>
			                                        <option data-select2-id="16">지난 1일</option>
			                                        <option data-select2-id="16">지난 1주</option>
			                                        <option data-select2-id="16">지난 1개월</option>
			                                        <option data-select2-id="16">지난 1년</option>
			                                    </select>
			                                </div>
			                            </div>
                                     <div class="col-3">
                                         <div class="form-group">
                                             <label>기간별 정렬기준</label>
                                             <select class="js-example-placeholder-single js-states form-control">
			                                    	<option selected="selected">전체</option>
			  										<option>시작일 기준</option>
			                                        <option>종료일 기준</option>
											</select>
                                         </div>
                                     </div>
                                     <div class="col-3">
                                         <div class="form-group">
                                             <label>정렬기준</label>
                                             <select class="js-example-placeholder-single js-states form-control">
			                                    	<option selected="selected">전체</option>
			  										<option>최신순</option>
			                                        <option>오래된순</option>
											</select>
                                         </div>
                                     </div>
                                     <div class="col-3">
                                         <div class="form-group">
                                             <label>진행율별 정렬</label>
                                             <select class="js-example-placeholder-single js-states form-control">
			                                    	<option selected="selected">전체</option>
			  										<option>높은순</option>
			                                        <option>낮은순</option>
											</select>
                                         </div>
                                     </div>
                                     <div class="col-3">
                                         <div class="form-group">
                                             <label>베팅금액별 정렬</label>
                                             <select class="js-example-placeholder-single js-states form-control">
			                                    	<option selected="selected">전체</option>
			  										<option>많은순</option>
			                                        <option>적은순</option>
											</select>
                                         </div>
                                     </div>
                                 </div>
                                 <div class="form-group">
                                     <div class="input-group input-group-lg">
                                        <div class="col-3">
                                            <div class="form-group">
			                                    <label>검색옵션</label>
			                                    <select class="js-example-placeholder-single js-states form-control">
			                                    	<option selected="selected" data-select2-id="8">전체</option>
			  									<option>챌린지명</option>
			  										<option>개설자 이메일</option>
			  										<option>참여자 이메일</option>
			  										<option>인증내용</option>
			  										<option>챌린지명+인증내용</option>
			  										<option>태그</option>
												</select>
			                                </div>
                                        </div>
                                         <input type="search" class="form-control form-control-lg" style="margin-top : 25px;" placeholder="검색어를 입력해주세요" value="">
                                         <div class="input-group-append">
                                             <button  class="btn btn-lg btn-default btn-sm" style="height : 49px;margin-top : 25px;">
                                                 <i class="fa fa-search"></i>
                                             </button>
                                         </div>
                                     </div>
                                 </div>
                             </div>
                         </div>
                     </form>
                 </div>
             </section>
            </div>
       </div>
       <!-- /검색-->




	<div class="row">
	<div class="col-12">
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">
                 <ion-icon size="small" name="list-outline"></ion-icon>
					&emsp; 참여 챌린지 목록 </h3>

                <div class="card-tools">
                  <div class="input-group input-group-sm" style="width: 150px;">
                    <div class="input-group-append">
                    </div>
                  </div>
                </div>
              </div>
              <!-- /.card-header -->
              <div class="card-body table-responsive p-0">
                <table class="table table-striped text-nowrap">
                  <thead>
		                    <tr>
		                      <th>번호</th>
		                      <th>챌린지명</th>
		                      <th>개설자 이메일</th>
		                      <th>참여자 이메일</th>
		                      <th>베팅금액</th>
		                      <th>참여일자</th>
		                      <th>서비스 시작일</th>
		                      <th>서비스 종료일</th>
		                      <th>진행율</th>
		                      <th>진행상태</th>
		                      <th>참여정보</th>
		                      <th>삭제</th>
		                    </tr>
		                  </thead>
		                  <!--tbody start  -->
		                  <tbody>
		                    <tr th:if="${#lists.size(challengeParticipationList) > 0}" th:each="l, idx : ${challengeParticipationList}">
		                    <td th:text="${idx.count}"></td>
		                    <td th:text="${l.challenge.challengeName}"></td>
		                    <td th:text="${l.normalUser.userEmail}"></td>
		                    <td th:text="${l.normalUser.userEmail}"></td>
		                    <td th:text="${#numbers.formatDecimal(l.challenge.challengeBetAmount, 0, 'COMMA', 0, 'POINT')}+'원'"></td>
		                    <td th:text="${l.challengeParticipationDate}"></td>
		                    <td th:text="${l.challengeServiceStartDate}"></td>
							<td th:text="${l.challengeServiceEndDate}"></td>
		                      <td>
							   <div class="progress progress-sm">
							     <div class="progress-bar progress-bar bg-danger" style="width: 45%"></div>
							   </div>
							   <small>
									45% Complete
								</small>
							</td>
							<td>
								<span class="badge bg-primary">참여중</span>
							</td>
							 <td>
								<button type="button" class="btn btn-block btn-default btn-xs challengeModalParticipationDetail" data-toggle="modal" data-target="#modal-ChallengeParticipationDetail">상세보기</button>
							</td>
		                      <td>
								<button type="button" class="btn btn-block btn-default btn-xs">삭제</button>
							</td>
		                    </tr>
		                 </tbody>
				</table>
			</div>
			<!-- /.card-body -->
			<!-- 코치 list 페이지번호  -->
			<div class="card-footer clearfix">
		                <ul class="pagination pagination-sm m-0 float-right">
		                  <li class="page-item"><a class="page-link" th:href="@{/adminChallengeParticipation}">«</a></li>
		                  <li class="page-item"><a th:if="${currentPage > 1}" th:href="@{/adminChallengeParticipation(currentPage=${currentPage - 1})}">[이전]</a></li>
		                  <th:block th:each="num:${#numbers.sequence(pageStartNum, pageEndNum)}">
		                  		<li class="page-item"><a class="page-link" th:if="${num != currentPage}" th:href="@{/adminChallengeParticipation(currentPage=${num})}" th:text="${num}"></a></li>
		                  		<span th:unless="${num != currentPage}" th:text="${'[' + num + ']'}"></span>
		                  </th:block>
		                  <li class="page-item"><a th:if="${currentPage < la	stPage}" th:href="@{/adminChallengeParticipation(currentPage=${currentPage + 1})}">[다음]</a></li>
		                  <li class="page-item"><a class="page-link" th:href="@{/adminChallengeParticipation(currentPage=${lastPage})}">»</a></li>
		                </ul>
			   </div>	
		</div>
	</div>
</div>
		
    <!-- challenge Modal 영역 시작-->
	<!-- 챌린지 참여정보 상세보기 Modal - challengeModalParticipationDetail -->
	<th:block th:replace="/fragments/challengeModal/adminChallengeModal/challengeModalParticipationDetail :: challengeModalParticipationDetail"></th:block>
	<!-- challenge Modal 영역 끝 -->
        
</th:block>

<th:block layout:fragment="pageJavascript">
<script type="text/javascript" th:inline="javascript">
	<!-- 챌린지 개설정보 상세보기 Modal - challengeModalInsertDetail -->
		
		var challengeModalParticipationDetail = $('.challengeModalParticipationDetail');
		
		/* Modal 영역 */
		$(function(){
			challengeModalParticipationDetail.click(function(){
			$("#modal-ChallengeParticipationDetail").modal();
		});
				
	});
</script>
</th:block>

</th:block>
</html>