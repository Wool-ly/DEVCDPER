<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout/default">

<th:block layout:fragment="pageTitle">
	<title th:text="${title}">Insert title here</title>
	<div class="col-sm-6">
		<h1 class="m-0">학력 상세 계획</h1>
	</div>
	<!-- /.col -->
	<!--우측 상단 경로바  -->
	<th:block th:replace="/fragments/plan/planTopSelect :: planTopSelect"></th:block>


	<!-- /.col -->
</th:block>

<th:block layout:fragment="container">
	<!--계획 공통검색 기능  -->
	<th:block th:replace="/fragments/plan/planDetailTitleSearch :: planDetailTitleSearch"></th:block>
	<th:block th:replace="/fragments/plan/planSearch :: planSearch"></th:block>
	<div class="col-12 col-sm-12">
		<div class="card">
			<div class="card-header" style="min-width: max-content;">
				<div class="card-title">
					<h3>학력 상세 계획 :&ensp;</h3>
					<h3 id="totalPlanSelected"></h3>
					&ensp;<h3>>&ensp;</h3>
					<h3 id="planSelected"></h3>
				
                </div>
					
					<div class="card-tools">
					

						<!-- <a th:href="@{/addPlanEducationalHistoryDetail(planDetailName='학력 상세 계획')}"> -->
						<a th:href="@{/addTotalPlan(planName='planEducationalHistoryDetail')}">  <!-- 인터셉터 인경우 사용:${pathName}  -->   <!--(planDetailName='학력 상세 계획')  -->
							<button type="button" class="btn btn-outline-primary">
								등록하기
							</button>
						</a> 	
						<button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
							<i class="fas fa-minus"></i>
						</button>

					</div>
                
                
              </div>
              <!-- /.card-header -->
              <div class="card-body  table-responsive p-0" style="overflow: scroll; white-space: nowrap;">
              	
                <table class="table table-striped text-nowrap">
                  <thead>
                    <tr>
                      <th>번호</th>
                      <th>학력 상세 계획 제목</th>
                      <th>학력 상세 계획 내용</th>
                      <th>상세 계획 시작일</th>
                      <th>상세 계획 종료일</th>
                      <th>진행율</th>
                      <th>진행 상태</th>
                      <th>차수</th>
                      <th>차수 변경 사유</th>
                      <th style="text-align: center;">작성일자</th>
                      
                      <th> </th>
                    </tr>
                  </thead>
					<tbody id="card-tbody">
					<!--ajax로 카드 테이블 불러와서 tbody지우고 append시키면된다.  -->
						
						
					



					</tbody>
				</table>
         </div>
         <!-- /.card-body -->
       </div>
	
	</div>
	
	
	<!--Modal  -->
	<!-- planModalContents -->
	<!-- <th:block th:replace="/fragments/detailPlanModal/modal-planEducationalHistoryDetail :: modal-planEducationalHistoryDetail"> </th:block> -->
	<th:block
		th:replace="/fragments/planModal/planModalContents :: planModalContents"></th:block>
	<!-- planModalDegree -->
	<th:block
		th:replace="/fragments/planModal/planModalDegree :: planModalDegree"></th:block>
	<!-- Modal 영역 끝 -->
	
	
</th:block>

<th:bolck layout:fragment="pageJavascript">
	<script type="text/javascript">
		/* $(document).ready(function(){
			$('#modal-planEducationalHistoryDetail').on('shown.bs.modal',function(){
				
			});
		}); */
		
		
		//$(function(){
			/* parameter 영역 */
			//var planContents = $(".planContents");
			//var planDegree = $(".planDegree");
			
			
			/* ${detailPlanList.get(0).getPlanDetailContents()} */ //참고용
			/* <![CDATA[ */
			/* ]]> */
			
			
			
			///get(여기를 어떻게  풀지?)
			/* for(var i=0;detailPlanList.size();i++){
				detailPlanList.get(i).getPlanDetailContents();
			} *///여기서 detailPlanList를 어떻게 정의 해야되는거지...
			
			
			/* Modal 영역 */  //동적으로 하려면  (click뒤에다쓰고) DOM객체에 다시한번 언급해줘야되는 것임.
			$(document).on('click',".planContents",function(){
				$("#myModal").modal();
				$(".modal-text").text($(this).val());
			//console.log(planText);
			});
			$(document).on('click',".planDegree",function(){
				$("#myModal2").modal();
				if($(this).val() == 'null'){
					$(this).val()='';
					$(".modal-text2").text($(this).val());			
				}else{
					$(".modal-text2").text($(this).val());	
				}
			});
			
			
			/*card-title css영역*/
			$("h3").css({
				 'display': 'inline-block'
			});
			/*table css영역*/
			$("table").find("td").css({
			'vertical-align' : 'middle'
			,'text-align' : 'center'
			});
			$("table").find("th").css({
				'text-align' : 'center'
				
			});
			$("table").find("small").css({
				'color' : '#969696'
			});
			
			
			/* //selected 출력			
			$("#plan").change(function(){
				var value = $("#plan option:checked").text(); //$(this).val();
				$("#planSelected").text(value);
			}); */ 
			
			
			
			
			
			
			
		//});
		
	</script>
</th:bolck>

</html>