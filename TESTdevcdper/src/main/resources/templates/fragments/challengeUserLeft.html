<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<aside th:fragment="left" class="main-sidebar sidebar-dark-primary elevation-4">
	<!-- Brand Logo -->
	<a th:href="@{/}" class="brand-link">
	  <img th:src="@{/AdminLTE3/dist/img/AdminLTELogo.png}" alt="AdminLTE Logo" class="brand-image img-circle elevation-3" style="opacity: .8">
	  <span class="brand-text font-weight-light">DEV-CDPER</span>
	</a>

	<!-- Sidebar -->
	<div class="sidebar">
	  <!-- Sidebar user panel (optional) -->
	  <div class="user-panel mt-3 pb-3 mb-3 d-flex" th:unless="${session.SID eq null}">
	    <div class="image">
	      <img th:src="@{/AdminLTE3/dist/img/psm2.jpg}" class="img-circle elevation-2" alt="User Image">
	    </div>
	    <div th:href="@{/}" class="brand-link">
	      <a href="#" class="d-block">[[${session.SLEVELNAME}]] [[${session.SNAME}]] </a>
	      <a>Mypage</a>
	    </div>
	    <br/>
	   <!--  <button type="button" class="btn btn-block btn-outline-primary btn-sm">Mypage</button> -->
	 
	  </div>
	  <div class="user-panel mt-3 pb-3 mb-3 d-flex" th:if="${session.SID eq null}">
	    <div class="image">
	      <img th:src="@{/AdminLTE3/dist/img/usernull.jpg}" class="img-circle elevation-2" alt="User Image">
	    </div>
	    <div class="info">
	      <a th:href="@{/login}" class="d-block">로그인을 해주세요.</a>
	    </div>
	  </div>
	
	  <!-- SidebarSearch Form -->
	  <div class="form-inline">
	    <div class="input-group" data-widget="sidebar-search">
	      <input class="form-control form-control-sidebar" type="search" placeholder="Search" aria-label="Search">
	      <div class="input-group-append">
	        <button class="btn btn-sidebar">
	          <i class="fas fa-search fa-fw"></i>
	        </button>
	      </div>
	    </div>
	  </div>
	
	  <!-- Sidebar Menu -->
	  <nav class="mt-2">
	    <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
	      <!-- Add icons to the links using the .nav-icon class
	           with font-awesome or any other icon font library -->
           <!-- 챌린지 관리 -->
	      <li class="nav-item menu-open"  >
            <a href="#" class="nav-link">
           	 <i class="nav-icon fas fad fa-thumbs-up"></i>
              <p>
               		 챌린지
                <i class="right fas fa-angle-left"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
             <!--  <li class="nav-item">
                <a href="challenge/challenge.html" class="nav-link">
                  <i class="nav-icon fas fad fa-thumbs-up"></i>
                  <p>챌린지 가이드</p>
                </a>
              </li> -->
              <li class="nav-item">
                <a th:href="@{/mainChallenge}" class="nav-link">
                  <i class="nav-icon fas fad fa-thumbs-up"></i>
                  <p>챌린지 메인</p>
                  <span style="font-size: 10px;" class="badge badge-primary">! 양슬기</span>
                </a>
              </li>
              <li class="nav-item">
                <a th:href="@{/challengeExploration}" class="nav-link">
                  <i class="nav-icon fas fad fa-thumbs-up"></i>
                  <p>챌린지 탐색하기</p>
                  <span style="font-size: 10px;" class="badge badge-primary">! 양슬기</span>
                </a>
              </li>
              <li class="nav-item">
                <a th:href="@{/challengeInsert}" class="nav-link">
                  <i class="nav-icon fas fad fa-thumbs-up"></i>
                  <p>챌린지 개설하기</p>
                   <span style="font-size: 10px;" class="badge badge-primary">! 양슬기</span>
                </a>
              </li>
              <li class="nav-item">
                <a th:href="@{/challengeCertification}" class="nav-link">
                  <i class="nav-icon fas fad fa-thumbs-up"></i>
                  <p>챌린지 인증하기</p>
                   <span style="font-size: 10px;" class="badge badge-primary">! 양슬기</span>
                </a>
              </li>
              <li class="nav-item">
                <a th:href="@{/myChallenge}" class="nav-link">
                  <i class="nav-icon fas fad fa-thumbs-up"></i>
                  <p>나의 챌린지</p>
                   <span style="font-size: 10px;" class="badge badge-primary">! 양슬기</span>
                </a>
              </li>
             </ul>
	         <!-- 결제 및 환불 관리 -->
	      <li class="nav-item has-treeview menu-open"  >
            <a href="#" class="nav-link">
              <i class="nav-icon fas fa-credit-card"></i>
              <p>
               		챌린지 결제 및 환불
                <i class="right fas fa-angle-left"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a th:href="@{/payment}" class="nav-link">
                  <i class="nav-icon fas fa-credit-card"></i>
                  <p>챌린지 결제 관리</p>
                   <span style="font-size: 10px;" class="badge badge-primary"># 양슬기</span>
                </a>
              </li>
              <li class="nav-item">
                <a th:href="@{/refund}" class="nav-link">
                  <i class="nav-icon fas fa-credit-card"></i>
                  <p>챌린지 환불 관리</p>
                  <span style="font-size: 10px;" class="badge badge-primary"># 양슬기</span>
                </a>
              </li>
            </ul>
          </li>

	    </ul>
	  </nav>
	  <!-- /.sidebar-menu -->
	</div>
	<!-- /.sidebar -->
</aside>


<script type="text/javascript">
$.AdminLTE.tree = function (menu) {
    var _this = this;
    var animationSpeed = $.AdminLTE.options.animationSpeed;
    $(document).off('click', menu + ' li a')
      .on('click', menu + ' li a', function (e) {
        //Get the clicked link and the next element
        var $this = $(this);
        var checkElement = $this.next();

        //If the menu is not visible open it
        if ((checkElement.is('.treeview-menu')) && (!checkElement.is(':visible'))) {
          //Get the parent menu
          var parent = $this.parents('ul').first();
          //Get the parent li
          var parent_li = $this.parent("li");

          //Open the target menu and add the menu-open class
          checkElement.slideDown(animationSpeed, function () {
            //Add the class active to the parent li
            checkElement.addClass('menu-open');
            parent_li.addClass('active');
            //Fix the layout in case the sidebar stretches over the height of the window
            _this.layout.fix();
          });
        }
        //if this isn't a link, prevent the page from being redirected
        if (checkElement.is('.treeview-menu')) {
          e.preventDefault();
        }
      });
  };
</script>
</html>